<!-- start custom head snippets -->
<!-- google adon info -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8264517186303288"
     crossorigin="anonymous"></script>
     
<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- ShokaX Dark Mode Toggle Button -->
<div class="dark-mode-toggle" onclick="toggleDarkMode()" title="다크모드 전환">
  <i class="fas fa-adjust"></i>
</div>

<!-- ShokaX Time-based Dark Mode Script -->
<script>
(function() {
  // 시간 기반 자동 다크 모드 (ShokaX 스타일)
  const hour = new Date().getHours();
  const isDarkTime = hour >= 20 || hour <= 7;
  
  // 저장된 테마 설정 확인
  const savedTheme = localStorage.getItem('theme');
  
  if (savedTheme) {
    document.documentElement.setAttribute('data-theme', savedTheme);
    document.body.classList.add(savedTheme + '-theme');
  } else if (isDarkTime) {
    document.documentElement.setAttribute('data-theme', 'dark');
    document.body.classList.add('dark-theme');
  } else {
    document.documentElement.setAttribute('data-theme', 'light');
    document.body.classList.add('light-theme');
  }
  
  // ShokaX 스타일 초기화
  document.documentElement.style.setProperty('--theme-transition', 'all 0.3s ease');
})();

// 다크모드 토글 함수
function toggleDarkMode() {
  const currentTheme = document.documentElement.getAttribute('data-theme');
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  
  // 테마 전환
  document.documentElement.setAttribute('data-theme', newTheme);
  document.body.className = document.body.className.replace(/\w+-theme/g, '');
  document.body.classList.add(newTheme + '-theme');
  
  // 로컬 스토리지에 저장
  localStorage.setItem('theme', newTheme);
  
  // 토글 버튼 애니메이션
  const toggleBtn = document.querySelector('.dark-mode-toggle');
  if (toggleBtn) {
    toggleBtn.style.transform = 'rotate(180deg) scale(1.1)';
    setTimeout(() => {
      toggleBtn.style.transform = 'rotate(0deg) scale(1)';
    }, 300);
  }
}
</script>

{% if page.use_math %} <!-- if page.use_math is true, then include mathjax -->
    {% include mathjax-support.html %}
{% endif %}
<!-- end custom head snippets -->

